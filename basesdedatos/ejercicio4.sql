DROP DATABASE IF EXISTS reservas_coches;
CREATE DATABASE reservas_coches CHARACTER SET utf8mb4;
USE reservas_coches;

CREATE TABLE PERSONA (
ID_PERSONA INT NOT null unique auto_increment,
NOMBRE VARCHAR (255) NOT NULL,
DNI varchar  (255) NOT NULL,
DIRECCION varchar (255) NOT NULL UNIQUE,
TELEFONO varchar (255) NOT NULL UNIQUE,
primary key (ID_PERSONA)
);

insert INTO PERSONA values (001,"JUAN PEREZ","32.369.852", "SALTA 365", 3764963245);
insert INTO PERSONA values (002,"CARLOS SUAREZ", "35.589.741","LAVALLE 1653",3764587400); 
INSERT INTO PERSONA values (003,"NATALIA MENDEZ","17.584.220","SANTA CRUZ 2200",37658841);


create table RESERVA (
ID_RESERVA INT NOT NULL UNIQUE auto_increment,
FECHA_DE_INICIO_DE_RESERVA varchar (255) NOT NULL,
FECHA_DE_FINAL_DE_RESERVA varchar (255) NOT NULl,
PRECIO_TOTAL varchar (255) NOT NULL,
primary key (ID_RESERVA)
);
insert INTO RESERVA values (001,"17/06/22","20/06/22",252.000);
insert INTO RESERVA VALUES (002,"20/07/22","21/07/22",120.000);
insert INTO RESERVA VALUES (003,"25/07/22","27/07/22",84.000); 
 
create table COCHE (
ID_COCHE INT NOT NULL UNIQUE auto_increment ,
MATRICULA varchar (255) UNIQUE NOT NULL,
MODELO  varchar (255)  NOT NULL ,
COLOR varchar (255) NOT NULL,
MARCA varchar (255) NOT NULL,
PRECIO_POR_HORA varchar (255) NOT NULL,
TOTAL_LTS_EN_DEPOSITO varchar (255) NOT NULL,
ID_PERSONA INT NOT null unique,
ID_RESERVA INT NOT NULL UNIQUE,
primary key (ID_COCHE),
constraint foreign key (ID_PERSONA) references PERSONA(ID_PERSONA),
constraint foreign key (ID_RESERVA) references RESERVA(ID_RESERVA)
);
insert INTO COCHE VALUES (001,"AA236AB","ONIX","ROJO","CHEVROLET","3.500","25 lts",001,001);
insert INTO COCHE VALUES (002,"AB296AC","CRUZE","NEGRO","CHEVROLET","5.000","20 lts",002,002);
insert INTO COCHE VALUES (003,"AC984BC","HILUX","BLANCO","TOYOTA","2.000","25 lts",003,003);
